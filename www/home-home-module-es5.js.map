{"version":3,"sources":["src/app/home/home.page.html","src/app/home/home-routing.module.ts","src/app/home/home.module.ts","src/app/home/home.page.scss","src/app/home/home.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"danger\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>Home</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-no-padding\\\">\\n  <ion-searchbar [(ngModel)]=\\\"searchQuery\\\" (search)=\\\"onSearch($event)\\\"></ion-searchbar>\\n  <ion-card>\\n    <ion-slides loop=\\\"true\\\" autoplay=\\\"3000\\\" pager>\\n      <ion-slide *ngFor=\\\"let number of [1,2,3,4]\\\">\\n        <img src=\\\"./assets/images/{{number}}.jpg\\\" />\\n      </ion-slide>\\n      \\n    </ion-slides>\\n  </ion-card>\\n\\n  <img src=\\\"./assets/images/banner2.jpg\\\" />\\n\\n  <ion-grid>\\n    <ion-row>\\n      <ion-slides>\\n        <ion-slide *ngFor=\\\"let product of products\\\" (click)=\\\"openProductPage(product)\\\">\\n          <ion-card class=\\\"ion-no-padding\\\">\\n            <img *ngIf=\\\"product.images.length != 0\\\" [src]=\\\"product.images[0].src\\\" />\\n            <h1 class=\\\"ion-padding\\\" class=\\\"ion-text-center\\\"> {{ product.name }} </h1>\\n            <p class=\\\"ion-text-center\\\" class=\\\"ion-padding\\\" [innerHTML]=\\\"product.short_description\\\"></p>\\n\\n          </ion-card>\\n        </ion-slide>\\n      </ion-slides>\\n    </ion-row>\\n  </ion-grid>\\n\\n  <ion-list>\\n    <ion-item *ngFor=\\\"let product of moreProducts\\\" class=\\\"ion-text-wrap\\\" (click)=\\\"openProductPage(product)\\\">\\n      <ion-thumbnail slot=\\\"start\\\">\\n        <img *ngIf=\\\"product.images.length != 0\\\" [src]=\\\"product.images[0].src\\\" />\\n      </ion-thumbnail>\\n\\n      <div>\\n        <h2> {{ product.name }} </h2>\\n        <p>\\n          <span [innerHTML]=\\\"product.short_description.substr(0, 50) + '...'\\\"></span>\\n          <span [innerHTML]=\\\"product.price_html\\\"></span>\\n        </p>\\n      </div>\\n      \\n      <ion-button slot=\\\"end\\\" fill=\\\"clear\\\">\\n        <ion-icon name=\\\"arrow-forward\\\"></ion-icon>\\n      </ion-button>\\n    </ion-item>\\n  </ion-list>\\n\\n  <ion-infinite-scroll (ionInfinite)=\\\"loadMoreProducts($event)\\\">\\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\\n  </ion-infinite-scroll>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { HomePage } from './home.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class HomePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { HomePageRoutingModule } from './home-routing.module';\n\nimport { HomePage } from './home.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    HomePageRoutingModule\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","export default \"ion-card {\\n  margin: 0 !important;\\n  width: 100% !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaG9tZS9DOlxcVXNlcnNcXG9zaWFuXFxEZXNrdG9wXFxjb2RlY2FueW9uLTE5MTI4NjcyLWlvbmljLTItYXBwLWZvci13b29jb21tZXJjZVxcY2MxMDZhcHBkZXYtbWFzdGVyL3NyY1xcYXBwXFxob21lXFxob21lLnBhZ2Uuc2NzcyIsInNyYy9hcHAvaG9tZS9ob21lLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLG9CQUFBO0VBQ0Esc0JBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL2hvbWUvaG9tZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY2FyZCB7XG4gICAgbWFyZ2luOiAwICFpbXBvcnRhbnQ7XG4gICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcbn0iLCJpb24tY2FyZCB7XG4gIG1hcmdpbjogMCAhaW1wb3J0YW50O1xuICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { NavController, ToastController, LoadingController } from '@ionic/angular';\nimport { HttpClient } from '@angular/common/http';\nimport { NavigationExtras } from '@angular/router';\nimport { LinkService } from '../link.service';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.page.html',\n  styleUrls: ['./home.page.scss'],\n})\nexport class HomePage implements OnInit {\n\n  products: any[];\n  moreProducts: any[];\n  page: number;\n  searchQuery: string = \"\";\n\n  products_link = \"wp-json/wc/v3/products\";\n  loaders = [null, null];\n  constructor(private navController: NavController,\n    private toastController: ToastController,\n    private httpClient: HttpClient,\n    private linkService: LinkService,\n    private loadingController: LoadingController) { \n      this.page = 2;\n\n      this.loadMoreProducts(null);\n      this.presentLoader(0);\n      this.httpClient.get(this.linkService.getAPILink() + this.products_link + '?consumer_key='+ this.linkService.getConsumerKey() + '&consumer_secret='+this.linkService.getConsumerSecret()).subscribe((data: any)=>{\n        this.dismissLoader(0);\n        this.products = data;\n        console.log(this.products);\n      },\n      (err)=>{\n        this.dismissLoader(0);\n        console.log(err);\n      });\n    }\n\n  ngOnInit() {\n  }\n\n  async presentLoader(num) {\n    this.loaders[num] = await this.loadingController.create({\n      message: 'Please wait...'\n    });\n    await this.loaders[num].present();\n  }\n\n  async dismissLoader(num) {\n    if(this.loaders[num]==null) return;\n      await this.loaders[num].dismiss()\n      .then(()=>{\n        this.loaders[num] = null;\n      })\n      .catch(e => console.log(e));\n  }\n\n  loadMoreProducts(event){\n    console.log(event);\n    if(event == null)\n    {\n      this.page = 2;\n      this.moreProducts = [];\n    }\n    else\n      this.page++;\n\n    this.presentLoader(1);\n    this.httpClient.get(this.linkService.getAPILink() + this.products_link + '?page='+ this.page+'&consumer_key='+ this.linkService.getConsumerKey() + '&consumer_secret='+this.linkService.getConsumerSecret()).subscribe((data: any)=>{\n      this.dismissLoader(1);\n      this.moreProducts = this.moreProducts.concat(data);\n      console.log(this.moreProducts);\n      console.log(event);\n      if(event != null)\n      {\n        event.target.complete();\n      }\n\n      if(data.length < 10 && event != null){\n        event.target.disabled = true;\n        this.presentToast(\"No more products!\");\n      }\n    },\n    (err)=>{\n      this.dismissLoader(1);\n      console.log(err);\n    });\n  }\n\n  async presentToast(pMessage) {\n    const toast = await this.toastController.create({\n      message: pMessage,\n      duration: 5000\n    });\n    toast.present();\n  }\n\n  openProductPage(product){\n    let navigationExtras: NavigationExtras = {\n      state: {\n        product: product\n      }\n    };\n    this.navController.navigateForward('product-details', navigationExtras);\n  }\n\n  onSearch(event){\n    if(this.searchQuery.length > 0){\n      let navigationExtras: NavigationExtras = {\n        state: {\n          searchQuery: this.searchQuery\n        }\n      };\n      this.navController.navigateForward('search', navigationExtras);\n    }\n  }\n\n}\n"],"sourceRoot":"webpack:///","file":"home-home-module-es5.js"}